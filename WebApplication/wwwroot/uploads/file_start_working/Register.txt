[HttpPost]
public ActionResult Register(UserModel model)
{
    if (ModelState.IsValid)
    {
        // Hash the password using a secure hashing algorithm like bcrypt
        string hashedPassword = HashPassword(model.Password);

        // Create a new user object and set the properties
        User user = new User
        {
            Username = model.Username,
            Email = model.Email,
            PasswordHash = hashedPassword,
            // set any other properties as needed
        };

        // Add the user to the database using Entity Framework
        db.Users.Add(user);
        db.SaveChanges();

        // Redirect the user to a success page or send a confirmation email
        return RedirectToAction("Success");
    }

    // If the model state is invalid, redisplay the form with error messages
    return View(model);
}
